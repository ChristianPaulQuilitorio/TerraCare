<div class="login-container">
  <img src="assets/icons/Gemini_Generated_Image_mfx6llmfx6llmfx6.png" alt="TerraCare logo" style="width:60px; height:60px; border-radius:8px; object-fit:cover;">
  <h2>TerraCare</h2>
  <h3 style="margin-bottom: 15px;">Forgot Password</h3>

  <form id="forgotForm" [formGroup]="form" (ngSubmit)="submit()">
    <p style="font-size: 14px; color:#444; margin-bottom:10px;">
      Enter your email address below and we’ll send you a link to reset your password.
    </p>

    <label for="email">Email Address</label>
  <input type="email" id="email" formControlName="email" placeholder="name@example.com" required>

  <button type="submit" class="login-btn" id="resetBtn" [disabled]="!canSubmit">Send Reset Link</button>

    <p class="signup-text">
      Remembered your password? <a routerLink="/login">Back to Login</a>
    </p>

    <p class="privacy-link">
      <label style="display:flex; align-items:center; gap:6px;">
        <input type="checkbox" id="privacyCheck" formControlName="privacy">
        I agree to the <a href="#" (click)="$event.preventDefault(); openPrivacy()">Privacy Agreement</a>
      </label>
    </p>
    <p class="terms-link">
      <label style="display:flex; align-items:center; gap:6px;">
        <input type="checkbox" id="termsCheck" formControlName="terms">
        I agree to the <a href="#" (click)="$event.preventDefault(); openTerms()">Terms and Agreement</a>
      </label>
    </p>
  </form>
</div>

<div id="privacyModal" class="modal" *ngIf="showPrivacy" (click)="closePrivacy()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Privacy Agreement</h3>
    <p>
      Your email will be used only for sending password reset instructions. By continuing,
      you agree to TerraCare’s Privacy Policy and acknowledge our Terms of Service.
      We do not sell your data, and you may request deletion of your account information.
    </p>
    <ul>
      <li>Use: password reset communications only</li>
      <li>Security: reasonable safeguards applied</li>
      <li>Controls: request data deletion any time</li>
    </ul>
    <button (click)="closePrivacy()">Close</button>
  </div>
</div>

<div id="termsModal" class="modal" *ngIf="showTerms" (click)="closeTerms()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Terms and Agreement</h3>
    <p>
      By requesting a password reset, you confirm you own the provided email address and
      agree to TerraCare’s recovery terms. Multiple requests may be rate-limited to protect
      users. Links expire for security—request a new one if needed.
    </p>
    <ul>
      <li>Ownership: you control the email account</li>
      <li>Rate limiting: abusive requests may be blocked</li>
      <li>Expiry: reset links are time-limited</li>
    </ul>
    <button (click)="closeTerms()">Close</button>
  </div>
</div>
