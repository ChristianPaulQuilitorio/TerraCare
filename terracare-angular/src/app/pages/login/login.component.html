<mat-card appearance="outlined">
  <div class="auth-header" mat-dialog-title>
  <img class="app-logo" src="assets/TerraCareLogo.png" alt="TerraCare logo" />
    <h2 class="brand-name">TerraCare</h2>
  </div>
  <div mat-dialog-content>
    <p class="subtitle">Welcome back — let’s continue your journey.</p>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Email Address</mat-label>
        <mat-icon matPrefix>mail</mat-icon>
        <input matInput type="email" formControlName="email" placeholder="name@example.com" autocomplete="email" required>
        <mat-error *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
          Please enter a valid email address
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Password</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="••••••••" autocomplete="current-password" required>
        <button type="button" mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'" [attr.aria-pressed]="!hidePassword">
          <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
        </button>
        <mat-error *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
          Password is required (min 6 characters)
        </mat-error>
      </mat-form-field>

      <div style="display:flex; justify-content:space-between; align-items:center; margin:8px 0 16px;">
        <mat-checkbox formControlName="remember">Remember me</mat-checkbox>
        <a class="muted-link" href="#" (click)="openForgot($event)">Forgot Password?</a>
      </div>

      <button mat-raised-button color="primary" id="loginBtn" type="submit" [disabled]="!canSubmit || submitting">
        {{ submitting ? 'Signing in…' : 'Login' }}
      </button>
      <div class="footer-links">
        <span>Don’t have an account?</span>
        <a href="#" (click)="$event.preventDefault(); openSignup()" class="tc-link">Create an Account</a>
      </div>
    </form>
  </div>
</mat-card>
